<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Management System</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel CDN for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Custom styles -->
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --danger-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.18);
            --shadow-soft: 0 8px 32px rgba(31, 38, 135, 0.37);
            --shadow-hover: 0 15px 35px rgba(31, 38, 135, 0.2);
        }

        * {
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            border-radius: 16px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
        }

        .glass-card-white {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
        }

        .fade-in {
            animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px) scale(0.95); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }

        .slide-in-left {
            animation: slideInLeft 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .btn-modern {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }

        .btn-modern:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: var(--shadow-hover);
        }

        .btn-modern::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn-modern:hover::before {
            left: 100%;
        }

        .gradient-text {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .pulse-ring {
            animation: pulse-ring 1.25s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }

        @keyframes pulse-ring {
            0% {
                transform: scale(0.33);
            }
            40%, 50% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: scale(1.2);
            }
        }

        .table-modern {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
        }

        .table-modern th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
        }

        .table-modern tbody tr {
            transition: all 0.2s ease;
        }

        .table-modern tbody tr:hover {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            transform: scale(1.01);
        }

        .status-badge {
            position: relative;
            overflow: hidden;
            border-radius: 50px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 0.75rem;
        }

        .status-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        .status-badge:hover::before {
            left: 100%;
        }

        .form-input-modern {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid transparent;
            border-radius: 12px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .form-input-modern:focus {
            background: rgba(255, 255, 255, 1);
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }

        .nav-modern {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
        }

        .nav-link-modern {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .nav-link-modern::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: var(--primary-gradient);
            transition: width 0.3s ease;
            z-index: -1;
        }

        .nav-link-modern:hover::before {
            width: 100%;
        }

        .nav-link-modern:hover {
            color: white;
            transform: translateY(-2px);
        }

        .stats-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
        }

        .stats-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .icon-gradient {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .loading-shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .scrollbar-modern::-webkit-scrollbar {
            width: 8px;
        }

        .scrollbar-modern::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .scrollbar-modern::-webkit-scrollbar-thumb {
            background: var(--primary-gradient);
            border-radius: 10px;
        }

        .scrollbar-modern::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
        }

        .animation-delay-2000 {
            animation-delay: 2s;
        }

        .animation-delay-4000 {
            animation-delay: 4s;
        }

        /* Enhanced Login Animations */
        .login-container {
            position: relative;
            overflow: hidden;
        }

        .floating-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .shape {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }

        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #f093fb, #f5576c);
            top: 60%;
            right: 10%;
            animation-delay: 2s;
        }

        .shape:nth-child(3) {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            bottom: 20%;
            left: 20%;
            animation-delay: 4s;
        }

        .shape:nth-child(4) {
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #43e97b, #38f9d7);
            top: 30%;
            right: 30%;
            animation-delay: 1s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.1;
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
                opacity: 0.2;
            }
        }

        .login-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 8px 32px rgba(31, 38, 135, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
            position: relative;
            overflow: hidden;
            animation: cardEntrance 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes cardEntrance {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .login-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #f5576c);
            background-size: 300% 300%;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
        }

        .login-icon {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            animation: iconPulse 2s ease-in-out infinite;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
        }

        @keyframes iconPulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 12px 40px rgba(102, 126, 234, 0.4);
            }
        }

        .login-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleGlow 2s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            0% {
                filter: brightness(1);
            }
            100% {
                filter: brightness(1.2);
            }
        }

        .input-group {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .input-modern {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid transparent;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            font-size: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            outline: none;
        }

        .input-modern:focus {
            border-color: #667eea;
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        .input-modern::placeholder {
            color: #9ca3af;
            transition: all 0.3s ease;
        }

        .input-modern:focus::placeholder {
            transform: translateY(-20px);
            opacity: 0;
        }

        .input-label {
            position: absolute;
            left: 20px;
            top: 16px;
            color: #6b7280;
            font-size: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            background: rgba(255, 255, 255, 0.9);
            padding: 0 8px;
        }

        .input-modern:focus + .input-label,
        .input-modern:not(:placeholder-shown) + .input-label {
            top: -8px;
            left: 16px;
            font-size: 12px;
            color: #667eea;
            font-weight: 600;
        }

        .login-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 16px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
        }

        .login-btn:active {
            transform: translateY(0);
        }

        .login-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .login-btn:hover::before {
            left: 100%;
        }

        .demo-accounts {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 16px;
            margin-top: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .demo-item {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .demo-item:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateX(5px);
        }

        .demo-item:last-child {
            margin-bottom: 0;
        }

        .switch-link {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .switch-link:hover {
            color: #764ba2;
        }

        .switch-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -2px;
            left: 0;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .switch-link:hover::after {
            width: 100%;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #667eea;
            border-radius: 50%;
            animation: particleFloat 4s linear infinite;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .loading-dots {
            display: inline-block;
        }

        .loading-dots::after {
            content: '';
            animation: loadingDots 1.5s infinite;
        }

        @keyframes loadingDots {
            0%, 20% {
                content: '';
            }
            40% {
                content: '.';
            }
            60% {
                content: '..';
            }
            80%, 100% {
                content: '...';
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Root div for React rendering -->
    <div id="root"></div>

    <!-- Load React Components -->
    <script type="text/babel" src="components/Navbar.js"></script>
    <script type="text/babel" src="components/EmployeeForm.js"></script>
    <script type="text/babel" src="components/EmployeeTable.js"></script>
    <script type="text/babel" src="components/CandidateForm.js"></script>
    <script type="text/babel" src="components/OnboardingChecklist.js"></script>
    
    <!-- Load Pages -->
    <script type="text/babel" src="pages/EmployeeDashboard.js"></script>
    <script type="text/babel" src="pages/CandidateDashboard.js"></script>
    <script type="text/babel" src="pages/OnboardingPage.js"></script>
    <script type="text/babel" src="pages/ProfilePage.js"></script>
    
    <!-- Main App Component -->
    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Main App Component
        function App() {
            const [currentPage, setCurrentPage] = useState('dashboard');
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);

            // Check authentication on app load
            useEffect(() => {
                const token = localStorage.getItem('jwt_token');
                if (token) {
                    // Mock user data - in real app, decode JWT or fetch from API
                    setUser({
                        id: 1,
                        name: 'John Doe',
                        email: 'john.doe@company.com',
                        role: localStorage.getItem('user_role') || 'admin' // Default to admin for demo
                    });
                }
                setLoading(false);
            }, []); // Empty dependency array - only run once on mount

            // Mock login function - memoized to prevent re-renders
            const handleLogin = useMemo(() => (email, password) => {
                // Mock authentication
                const mockToken = 'mock_jwt_token_' + Date.now();
                localStorage.setItem('jwt_token', mockToken);
                localStorage.setItem('user_role', 'admin'); // Set role
                
                const mockUser = {
                    id: 1,
                    name: email.includes('admin') ? 'Admin User' : 'Employee User',
                    email: email,
                    role: email.includes('admin') ? 'admin' : 'employee'
                };
                
                setUser(mockUser);
            }, []);

            // Logout function - memoized to prevent re-renders
            const handleLogout = useMemo(() => () => {
                localStorage.removeItem('jwt_token');
                localStorage.removeItem('user_role');
                setUser(null);
                setCurrentPage('login');
            }, []);

            // Navigate function - memoized to prevent re-renders
            const navigate = useMemo(() => (page) => {
                setCurrentPage(page);
            }, []);

            // Memoized handlers for LoginPage
            const handleDemoAdmin = useMemo(() => () => {
                document.getElementById('email').value = 'admin@company.com';
                document.getElementById('password').value = 'password';
            }, []);

            const handleDemoEmployee = useMemo(() => () => {
                document.getElementById('email').value = 'employee@company.com';
                document.getElementById('password').value = 'password';
            }, []);

            const handleSwitchToRegister = useMemo(() => () => {
                setCurrentPage('register');
            }, []);

            const handleSwitchToLogin = useMemo(() => () => {
                setCurrentPage('login');
            }, []);

            // Login Page Component - memoized to prevent re-renders
            const LoginPage = React.useMemo(() => () => {
                // Create floating particles - memoized to prevent re-creation on every render
                const particles = React.useMemo(() => {
                    const particleElements = [];
                    // Pre-generate random values to avoid Math.random() calls during render
                    const randomValues = Array.from({ length: 60 }, () => Math.random());
                    for (let i = 0; i < 20; i++) {
                        const left = randomValues[i] * 100;
                        const delay = randomValues[i + 20] * 4;
                        const duration = (randomValues[i + 40] * 3) + 2;
                        
                        particleElements.push(
                            <div
                                key={i}
                                className="particle"
                                style={{
                                    left: left + '%',
                                    animationDelay: delay + 's',
                                    animationDuration: duration + 's'
                                }}
                            />
                        );
                    }
                    return particleElements;
                }, []); // Empty dependency array - only create once

                return (
                    <div className="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 login-container">
                        {/* Floating Shapes Background */}
                        <div className="floating-shapes">
                            <div className="shape"></div>
                            <div className="shape"></div>
                            <div className="shape"></div>
                            <div className="shape"></div>
                        </div>

                        {/* Floating Particles */}
                        {particles}
                        
                        <div className="max-w-md w-full space-y-8 relative z-10">
                            <div className="login-card p-8">
                                <div className="text-center">
                                    <div className="login-icon">
                                        <svg className="h-10 w-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" />
                                        </svg>
                                    </div>
                                    <h2 className="text-4xl font-bold login-title mb-2 mt-6">
                                        HR Management
                                    </h2>
                                    <p className="text-gray-600 text-lg">
                                        Welcome back! Please sign in to continue
                                    </p>
                                </div>
                                
                                <form className="mt-8 space-y-6">
                                    <div className="space-y-6">
                                        <div className="input-group">
                                            <input
                                                id="email"
                                                name="email"
                                                type="email"
                                                required
                                                className="input-modern"
                                                placeholder=" "
                                                defaultValue="admin@company.com"
                                            />
                                            <label htmlFor="email" className="input-label">
                                                Email Address
                                            </label>
                                        </div>
                                        
                                        <div className="input-group">
                                            <input
                                                id="password"
                                                name="password"
                                                type="password"
                                                required
                                                className="input-modern"
                                                placeholder=" "
                                                defaultValue="password"
                                            />
                                            <label htmlFor="password" className="input-label">
                                                Password
                                            </label>
                                        </div>
                                    </div>

                                    <div>
                                        <button
                                            type="button"
                                            onClick={() => {
                                                const email = document.getElementById('email').value;
                                                const password = document.getElementById('password').value;
                                                handleLogin(email, password);
                                            }}
                                            className="login-btn"
                                        >
                                            <span className="flex items-center justify-center">
                                                <svg className="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
                                                </svg>
                                                Sign In
                                            </span>
                                        </button>
                                    </div>

                                    <div className="text-center space-y-4">
                                        <div className="flex items-center justify-center space-x-2">
                                            <div className="h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent flex-1"></div>
                                            <span className="text-sm text-gray-500 px-3 font-medium">Demo Accounts</span>
                                            <div className="h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent flex-1"></div>
                                        </div>
                                        
                                        <div className="demo-accounts">
                                            <div 
                                                className="demo-item"
                                                onClick={handleDemoAdmin}
                                            >
                                                <div className="flex items-center">
                                                    <div className="w-3 h-3 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full mr-3"></div>
                                                    <div>
                                                        <span className="font-semibold text-gray-800">Admin</span>
                                                        <p className="text-sm text-gray-600">admin@company.com</p>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div 
                                                className="demo-item"
                                                onClick={handleDemoEmployee}
                                            >
                                                <div className="flex items-center">
                                                    <div className="w-3 h-3 bg-gradient-to-r from-green-500 to-blue-500 rounded-full mr-3"></div>
                                                    <div>
                                                        <span className="font-semibold text-gray-800">Employee</span>
                                                        <p className="text-sm text-gray-600">employee@company.com</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="mt-6">
                                            <button
                                                type="button"
                                                onClick={handleSwitchToRegister}
                                                className="switch-link"
                                            >
                                                Don't have an account? Sign up here
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                );
            }, []); // Close LoginPage useMemo

            // Register Page Component - memoized to prevent re-renders
            const RegisterPage = React.useMemo(() => () => (
                <div className="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden">
                    {/* Background Elements */}
                    <div className="absolute inset-0 overflow-hidden">
                        <div className="absolute -top-40 -right-32 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"></div>
                        <div className="absolute -bottom-40 -left-32 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse animation-delay-2000"></div>
                    </div>
                    
                    <div className="max-w-2xl w-full space-y-8 relative z-10">
                        <div className="glass-card-white p-8 fade-in">
                            <div className="text-center">
                                <div className="mx-auto h-16 w-16 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center mb-6 floating">
                                    <svg className="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
                                    </svg>
                                </div>
                                <h2 className="text-3xl font-bold gradient-text mb-2">
                                    Join Our Team
                                </h2>
                                <p className="text-gray-600">
                                    Create your account to get started
                                </p>
                            </div>
                            
                            <form className="mt-8 space-y-6">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label htmlFor="reg-name" className="block text-sm font-medium text-gray-700 mb-2">
                                            Full Name
                                        </label>
                                        <input
                                            id="reg-name"
                                            name="name"
                                            type="text"
                                            required
                                            className="form-input-modern w-full px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none"
                                            placeholder="Enter your full name"
                                        />
                                    </div>
                                    <div>
                                        <label htmlFor="reg-email" className="block text-sm font-medium text-gray-700 mb-2">
                                            Email Address
                                        </label>
                                        <input
                                            id="reg-email"
                                            name="email"
                                            type="email"
                                            required
                                            className="form-input-modern w-full px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none"
                                            placeholder="Enter your email"
                                        />
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label htmlFor="reg-password" className="block text-sm font-medium text-gray-700 mb-2">
                                            Password
                                        </label>
                                        <input
                                            id="reg-password"
                                            name="password"
                                            type="password"
                                            required
                                            className="form-input-modern w-full px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none"
                                            placeholder="Create a password"
                                        />
                                    </div>
                                    <div>
                                        <label htmlFor="reg-confirm-password" className="block text-sm font-medium text-gray-700 mb-2">
                                            Confirm Password
                                        </label>
                                        <input
                                            id="reg-confirm-password"
                                            name="confirmPassword"
                                            type="password"
                                            required
                                            className="form-input-modern w-full px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none"
                                            placeholder="Confirm your password"
                                        />
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label htmlFor="reg-department" className="block text-sm font-medium text-gray-700 mb-2">
                                            Department
                                        </label>
                                        <select
                                            id="reg-department"
                                            name="department"
                                            required
                                            className="form-input-modern w-full px-4 py-3 text-gray-900 focus:outline-none"
                                        >
                                            <option value="">Select Department</option>
                                            <option value="Engineering">Engineering</option>
                                            <option value="Marketing">Marketing</option>
                                            <option value="Sales">Sales</option>
                                            <option value="HR">Human Resources</option>
                                            <option value="Finance">Finance</option>
                                            <option value="Operations">Operations</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label htmlFor="reg-position" className="block text-sm font-medium text-gray-700 mb-2">
                                            Position
                                        </label>
                                        <input
                                            id="reg-position"
                                            name="position"
                                            type="text"
                                            required
                                            className="form-input-modern w-full px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none"
                                            placeholder="Enter your position"
                                        />
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label htmlFor="reg-phone" className="block text-sm font-medium text-gray-700 mb-2">
                                            Phone Number
                                        </label>
                                        <input
                                            id="reg-phone"
                                            name="phone"
                                            type="tel"
                                            required
                                            className="form-input-modern w-full px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none"
                                            placeholder="Enter your phone number"
                                        />
                                    </div>
                                    <div>
                                        <label htmlFor="reg-salary" className="block text-sm font-medium text-gray-700 mb-2">
                                            Expected Salary
                                        </label>
                                        <input
                                            id="reg-salary"
                                            name="salary"
                                            type="number"
                                            required
                                            className="form-input-modern w-full px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none"
                                            placeholder="Enter expected salary"
                                        />
                                    </div>
                                </div>

                                <div>
                                    <label htmlFor="reg-address" className="block text-sm font-medium text-gray-700 mb-2">
                                        Address
                                    </label>
                                    <textarea
                                        id="reg-address"
                                        name="address"
                                        rows="3"
                                        required
                                        className="form-input-modern w-full px-4 py-3 text-gray-900 placeholder-gray-500 focus:outline-none"
                                        placeholder="Enter your address"
                                    ></textarea>
                                </div>

                                <div>
                                    <button
                                        type="button"
                                        onClick={() => {
                                            // Mock register functionality
                                            alert('Registration feature will be implemented with backend integration');
                                            setCurrentPage('dashboard');
                                        }}
                                        className="btn-modern group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500"
                                    >
                                        <span className="absolute left-0 inset-y-0 flex items-center pl-3">
                                            <svg className="h-5 w-5 text-pink-300 group-hover:text-pink-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
                                            </svg>
                                        </span>
                                        Create Account
                                    </button>
                                </div>

                                <div className="text-center">
                                    <button
                                        type="button"
                                        onClick={handleSwitchToLogin}
                                        className="text-sm text-pink-600 hover:text-pink-500 font-medium"
                                    >
                                        Already have an account? Sign in here
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            ), []); // Close RegisterPage useMemo

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"></div>
                    </div>
                );
            }

            // Register Page Component
            const RegisterPage = () => {
                return (
                    <div className="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
                        <div className="max-w-md w-full space-y-8">
                            <div className="glass-card-white p-8">
                                <div className="text-center">
                                    <h2 className="text-3xl font-bold gradient-text mb-6">Create Account</h2>
                                </div>
                                <form className="space-y-6">
                                    <div>
                                        <input
                                            type="text"
                                            placeholder="Full Name"
                                            className="form-input-modern w-full"
                                        />
                                    </div>
                                    <div>
                                        <input
                                            type="email"
                                            placeholder="Email Address"
                                            className="form-input-modern w-full"
                                        />
                                    </div>
                                    <div>
                                        <input
                                            type="password"
                                            placeholder="Password"
                                            className="form-input-modern w-full"
                                        />
                                    </div>
                                    <div>
                                        <input
                                            type="password"
                                            placeholder="Confirm Password"
                                            className="form-input-modern w-full"
                                        />
                                    </div>
                                    <button
                                        type="submit"
                                        className="btn-modern w-full"
                                    >
                                        Create Account
                                    </button>
                                    <button
                                        type="button"
                                        onClick={() => setCurrentPage('login')}
                                        className="text-sm text-purple-600 hover:text-purple-500 font-medium"
                                    >
                                        Already have an account? Sign in here
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                );
            };

            if (!user) {
                if (currentPage === 'register') {
                    return <RegisterPage />;
                }
                return <LoginPage />;
            }

            // Memoize navigate function to prevent re-renders
            const memoizedNavigate = useMemo(() => navigate, []);
            
            // Memoize user object to prevent unnecessary re-renders
            const memoizedUser = useMemo(() => user, [user?.id, user?.email, user?.role]);

            // Render main app with navigation
            return (
                <div className="min-h-screen relative overflow-hidden">
                    <Navbar 
                        user={memoizedUser} 
                        onLogout={handleLogout} 
                        onNavigate={memoizedNavigate}
                        currentPage={currentPage}
                    />
                    
                    <main className="max-w-7xl mx-auto py-8 sm:px-6 lg:px-8 relative z-10">
                        <div className="px-4 py-6 sm:px-0">
                            {currentPage === 'dashboard' && <EmployeeDashboard user={memoizedUser} onNavigate={memoizedNavigate} />}
                            {currentPage === 'candidates' && <CandidateDashboard user={memoizedUser} onNavigate={memoizedNavigate} />}
                            {currentPage === 'onboarding' && <OnboardingPage user={memoizedUser} onNavigate={memoizedNavigate} />}
                            {currentPage === 'profile' && <ProfilePage user={memoizedUser} onNavigate={memoizedNavigate} />}
                        </div>
                    </main>
                    
                    {/* Background Decorative Elements */}
                    <div className="fixed inset-0 -z-10 overflow-hidden pointer-events-none">
                        <div className="absolute top-1/4 -right-20 w-96 h-96 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"></div>
                        <div className="absolute bottom-1/4 -left-20 w-96 h-96 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse animation-delay-2000"></div>
                        <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-pink-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse animation-delay-4000"></div>
                    </div>
                </div>
            );
        }

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
